require 'test/unit'
require 'mixi'

class TestMixi < Test::Unit::TestCase
  def test_refresh_token_exe
    mixi = Mixi::Mixi.new
    old_token = mixi.token
    mixi.refresh_token_exe
    assert_not_equal old_token, mixi.token
  end

  def test_error_refresh_token_exe
    mixi = Mixi::Mixi.new("adf","asdfads","gadadsf","adsfd")
    assert_not_equal true, mixi.refresh_token_exe
    mixi = Mixi::Mixi.new("98d683f740723e8fed01","8c1426e2437c74fa812e54e82e17fd22dfe0b262","3cedf38a0a27dc334b4f805621ab88d7733a7fd6","adsfd")
    assert_not_equal true, mixi.refresh_token_exe
  end

  def test_friends
    mixi = Mixi::Mixi.new
    results = mixi.friends
    assert_not_equal true, results.include?("error")
  end

  def test_update_status
    mixi = Mixi::Mixi.new
    results = mixi.update_status("this is test")
    assert_not_equal true, results.include?("error")
  end

  def test_parse
    mixi = Mixi::Mixi.new
    results = mixi.friends
    assert_not_equal true, results.include?("error")
  end

end
